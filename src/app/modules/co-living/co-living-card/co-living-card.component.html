<div class="property_item property_item2 listing_card">
    <!-- <div class="property-img">
        <div *ngIf="coLiving.images.length" [attr.id]="carouselId" class="carousel slide" data-interval="false" data-touch="true" data-ride="carousel">
        
            <div class="carousel-inner">
                <div *ngFor="let image of coLiving.images; let i = index" class="carousel-item" [class.active]="i === 0" style="cursor: pointer;">
                    <img [lazyLoad]="image?.image?.s3_link" (click)="openWorkSpace(coLiving.slug)" class="d-block w-100" [src]="image?.image?.s3_link" [alt]="image?.image?.alt ? image?.image?.alt : ''">
                </div>
            </div>
            
            <ol class="carousel-indicators">
                <li *ngFor="let image of coLiving.images | slice:0:5; let i = index" [attr.data-target]="'#' + carouselId" [attr.data-slide-to]="i" [class.active]="i == 0"></li>
            </ol>
        
            <a class="carousel-control-prev hideOnMobile" [attr.href]="'#' + carouselId" role="button" data-slide="prev">
                <i class="fas fa-chevron-left"></i>
            </a>
            <a class="carousel-control-next hideOnMobile" [attr.href]="'#' + carouselId" role="button" data-slide="next">
                <i class="fas fa-chevron-right"></i>
            </a>
        </div>
    </div> -->
    

    <div *ngIf="coLiving.images.length" class="property-img">
        <ngu-carousel #imageGalleryCarousel [inputs]="carouselTile" [dataSource]="coLiving.images">
            <div *nguCarouselDef="let images; let i = index;" class="item" style="cursor: pointer;">
                <img [lazyLoad]="images?.image?.s3_link" (click)="openWorkSpace(coLiving.slug)" style="display: block; height: 100%; width: 100%;" [alt]="images?.image?.alt ? images?.image?.alt : ''">
            </div>
            <button NguCarouselPrev class='carousel-arrow icon-back fas fa-chevron-left hideOnMobile'></button>
            <button NguCarouselNext class='carousel-arrow icon-next fas fa-chevron-right hideOnMobile'></button>
            <ul class="myPoint onlyMobile" NguCarouselPoint>
                <li *ngFor="let j of imageGalleryCarousel.pointNumbers; let j = index" [class.active]="j==imageGalleryCarousel.activePoint" (click)="imageGalleryCarousel.moveTo(j)"></li>
            </ul>
        </ngu-carousel>
    </div>

    <div class="image" *ngIf="!coLiving.images.length"></div>
    <div class="property-dis" (click)="openWorkSpace(coLiving.slug)" style="cursor: pointer;">
        <h4>{{ coLiving.name }}</h4>
        <p class="address"><img [lazyLoad]="'../../../../assets/images/icons/location-icon.svg'" alt="Location" class="img-fluid"> {{ coLiving.location.address }}</p>
        <div class="row align-items-end">
            <div class="col-md-6 col-6">
                <p class="capacity"><img class="img-fluid" alt="Save Money" [lazyLoad]="'../../../../assets/images/amenities/save-money.svg'"> Best Price</p>
        <p class="capacity light_blue"><img class="img-fluid" alt="Minimum Stay" [lazyLoad]="'../../../../assets/images/amenities/minimum-stay.svg'"> Minimum stay 3 months</p>
            </div>
            <div class="col-md-6 col-6 justify-content-end d-flex">
                <div class="price"><span class="rent_title">Starting from</span>â‚¹{{ coLiving.starting_price.toLocaleString('en-IN') }} <span class="rent_duration">/ {{ coLiving.duration }}</span></div>
            </div>
        </div>
    </div>
        
    <div class="property-foot align-items-end">
        <div class="button">
            <a (click)="openWorkSpace(coLiving.slug)" target="_blank" tabindex="0">Explore More</a>
        </div>
        <div class="button">
            <a type="button" (click)="getQuote(coLiving.slug)"  data-toggle="modal" data-target="#exampleModal">Get Quote</a>
        </div>
    </div>
</div>

<!-- Modal -->
<div class="modal fade office_card_popup"
    id="exampleModal"
    tabindex="-1"
    aria-labelledby="exampleModalLabel"
    aria-hidden="true"
    #myModal>
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-body"
                style="background-image: url('https://cofynd-staging.s3.ap-south-1.amazonaws.com/images/original/753febf95bc0e22e68d7777d9df2fdda1aeec62f.png');">
                <div class="enquire-box">
                    <div class="form-section enquire-box-content">
                        <div class="title">
                            <h4 class="heading">
                                <button type="button"
                                    class="fas fa-close"></button> Yes, I'm Interested!
                            </h4>
                            <p>Know More About this property</p>

                            <button type="button"
                                data-dismiss="modal"
                                aria-label="Close"><i class="fa-solid fa-xmark"></i></button>
                        </div>

                        <form class="form"
                            [formGroup]="enquiryForm"
                            (ngSubmit)="onSubmit()">
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <input class="form-control"
                                            type="text"
                                            formControlName="name"
                                            placeholder="Name*"
                                            appMaterialInput />
                                        <app-input-validation [control]="enquiryForm.controls.name">
                                        </app-input-validation>
                                    </div>
                                </div>

                                <div class="col-md-12">
                                    <div class="form-group">
                                        <input class="form-control"
                                            type="text"
                                            formControlName="email"
                                            placeholder="Email*"
                                            appMaterialInput />
                                        <app-input-validation [control]="enquiryForm.controls.email">
                                        </app-input-validation>
                                    </div>
                                </div>

                                <div class="col-md-12 country_phone">
                                    <div class="form-group city_card_phone">
                                        <div class="flag-container">
                                            <div (click)="showcountry = !showcountry"
                                                class="selected-flag">
                                                <div class="flag in"
                                                    *ngIf="activeCountries && activeCountries.length">
                                                    <span class="dial-code"> {{selectedCountry?.dial_code}}</span>
                                                    <span class="arrow arrow-up"><i
                                                            class="fa-solid fa-angle-down"></i></span>
                                                </div>
                                            </div>
                                            <ul *ngIf="showcountry"
                                                class="country-list">
                                                <li (click)="hideCountry(country)"
                                                    class="country active"
                                                    tabindex="-1"
                                                    *ngFor="let country of activeCountries">
                                                    <div class="flag-box">
                                                        <div class="flag in"><img [lazyLoad]="country?.image?.s3_link"
                                                                width="18px" alt="Flag" /></div>
                                                    </div>
                                                    <span class="country-name">{{country?.name}}</span>
                                                    <span class="dial-code">{{country?.dial_code}}</span>
                                                </li>
                                            </ul>
                                            <input class="form-control"
                                                maxlength="10"
                                                type="text"
                                                formControlName="phone_number"
                                                placeholder="Phone*"
                                                appMaterialInput />
                                        </div>
                                        <app-input-validation [control]="enquiryForm.controls.phone_number">
                                        </app-input-validation>
                                    </div>
                                </div>
                            </div>


                            <div class="form-group otp-form"
                                *ngIf="ENQUIRY_STEP === ENQUIRY_STEPS.OTP">
                                <input class="form-control"
                                    placeholder="Enter Otp"
                                    type="password"
                                    formControlName="otp"
                                    appMaterialInput
                                    autofocus />
                                <app-input-validation [control]="enquiryForm.controls.otp">
                                </app-input-validation>
                                <button [disabled]="resendDisabled"
                                    (click)="resendOTP()"
                                    [ngClass]="{'resend_otp': resendDisabled === false}">Resend OTP</button>
                                <p *ngIf="resendDisabled">OTP will be resent in {{resendCounter}} seconds</p>
                            </div>

                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <ng-select placeholder="Type" 
                                            [clearable]="true"
                                            [searchable]="false"
                                            [items]="coLivingPlans"
                                            bindLabel="label"
                                            bindValue="value"
                                            formControlName="interested_in">
                                        </ng-select>
                                        <app-input-validation [control]="enquiryForm.controls.interested_in">
                                        </app-input-validation>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <ng-select placeholder="Budget" 
                                            [clearable]="true"
                                            [searchable]="false"
                                            [items]="Budgets"
                                            bindLabel="label"
                                            bindValue="value"
                                            formControlName="mx_BudgetPrice">
                                        </ng-select>
                                        <app-input-validation [control]="enquiryForm.controls.mx_BudgetPrice">
                                        </app-input-validation>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <ng-select placeholder="Move In" 
                                            [clearable]="true"
                                            [searchable]="false"
                                            [items]="MoveIn"
                                            bindLabel="label"
                                            bindValue="value"
                                            formControlName="mx_Move_In_Date">
                                        </ng-select>
                                        <app-input-validation [control]="enquiryForm.controls.mx_Move_In_Date">
                                        </app-input-validation>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <button type="submit"
                                        class="site_btn border_btn full_width_btn">{{ btnLabel }}</button>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <p class="form__tagline">After clicking the Submit Button we will share the Owner / Operator contact details with you.</p>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>